<?xml version="1.0" encoding="ISO-8859-1"?>
<opml version="2.0">
	<head>
		<title>readme.md</title>
		<dateModified>Thu, 22 Sep 2022 15:11:18 GMT</dateModified>
		<expansionState></expansionState>
		<vertScrollState>1</vertScrollState>
		<windowTop>300</windowTop>
		<windowLeft>700</windowLeft>
		<windowBottom>900</windowBottom>
		<windowRight>1500</windowRight>
		</head>
	<body text="readme.md">
		<outline text="# publicFolder">
			<outline text="&lt;a href=&quot;http://publicfolder.io&quot;&gt;publicFolder&lt;/a&gt; is a Node app that runs on your desktop and keeps an &lt;a href=&quot;https://en.wikipedia.org/wiki/Amazon_S3&quot;&gt;Amazon S3&lt;/a&gt; location in sync with a folder on a local disk."></outline>
			<outline text="This project contains the &lt;a href=&quot;https://www.npmjs.com/package/publicfolder&quot;&gt;package&lt;/a&gt; that's at the core of the app. There is also an &lt;a href=&quot;http://this.how/publicFolder/&quot;&gt;Electron version&lt;/a&gt; for the Mac. "></outline>
			<outline text="You can run the publicFolder package anywhere Node runs using a small Node app, which is &lt;a href=&quot;https://github.com/scripting/publicfolder/tree/master/examples/helloworld&quot;&gt;provided&lt;/a&gt;.  "></outline>
			</outline>
		<outline text="### Two locations">
			<outline text="You need two places, one local and one on S3."></outline>
			<outline text="1. The watchFolder, on your local system, is where you create and update files to be published."></outline>
			<outline text="2. The s3Folder mirrors what's in the watchFolder. Very important: This location should be empty when you start. Any files there that are not present in the watchFolder will be deleted when publicFolder starts. "></outline>
			<outline text="3. There's no requirement that the S3 location be publicly accessible. You could use publicFolder to manage a private location on S3. "></outline>
			</outline>
		<outline text="### How to">
			<outline text="1. &lt;a href=&quot;https://github.com/scripting/publicfolder/archive/master.zip&quot;&gt;Download&lt;/a&gt; the folder. "></outline>
			<outline text="2. Open the &lt;i&gt;examples&lt;/i&gt; sub-folder and move its &lt;i&gt;helloworld&lt;/i&gt; sub-folder where you keep Node stuff. You can delete the rest of the files."></outline>
			<outline text="3. Edit config.json, replacing the example values with the path to the local folder (watchFolder) and where to store the files on S3 (s3Folder). "></outline>
			<outline text="4. If the destination on S3 truly is public also set urlS3Folder to point to the folder on the web. This will be used in logging and error messages. If it's a private location, set it to the empty string."></outline>
			<outline text="5. You also have to provide credentials in a form that the AWS software, which is part of publicFolder, will recognize. You can create a credentials file, or set up environment variables. Amazon has a &lt;a href=&quot;https://aws.amazon.com/blogs/security/a-new-and-standardized-way-to-manage-credentials-in-the-aws-sdks/&quot;&gt;docs&lt;/a&gt; that explain. "></outline>
			<outline text="6. At the command line, install the dependencies using `npm install` and then run the app."></outline>
			</outline>
		<outline text="### How it works">
			<outline text="publicFolder has two systems for detecting differences between the version of the folder on the local computer and the one on S3. "></outline>
			<outline text="1. At startup, and once a minute, we do a scan of the local folder and compare it with the S3 version. Any files that have been added locally since we last ran are uploaded. Any files that exist in S3 but not in the local folder are deleted. "></outline>
			<outline text="2. Once that scan is complete (it can happen in less than a second) -- we tell &lt;a href=&quot;https://github.com/paulmillr/chokidar&quot;&gt;Chokidar&lt;/a&gt; to watch the folder. It notifies us when any file in the folder is added, modified or deleted. We make the S3 version match the local version when we get such a notification. "></outline>
			<outline text="3. It does not attempt to synchronize the local folder with the S3 location. It is not a replacement for Dropbox. The master is on the desktop, always. If a file exists in S3 that does not exist on the desktop, the S3 file is removed. It's a publisher, not a synchronizer. "></outline>
			<outline text="4. For relatively small files, 5MB or smaller, it uploads using a single file read. For larger files, it streams the content of the files to S3. "></outline>
			<outline text="5. There's a built-in HTTP server which ships turned off. It's there primarily so the &lt;a href=&quot;http://this.how/publicFolder/&quot;&gt;Electron app&lt;/a&gt; can get information about what's going on in the main thread to report to the user. You can turn it on by setting config.flHttpEnabled to true."></outline>
			</outline>
		<outline text="### History, background">
			<outline text="publicFolder takes care of exactly what's needed for a person to publish. It's the perfect complement for a static site generator, of which there are many. Just point it at a sub-folder of your watchFolder, and it takes care of the rest. "></outline>
			<outline text="Dropbox was quite close to the idea of publicFolder, but when it became popular they pulled back. As I understand , if you created your account after 2012, you didn't have a public folder. I did, because I was an early adopter. They finally turned the feature off on Sept 1, 2017. It was then that I decided it was time for a reliable and complete open source app that worked exactly the way you'd want it to work for publishing. Dropbox's heart was never in publishing. publicFolder is all about publishing. "></outline>
			<outline text="Another precursor of publicFolder was upstreaming in Radio UserLand, released in 2002. publicFolder should be a lot more efficient and powerful, but that said, upstreaming was pretty good, and Radio -- through upstreaming -- was one of the pillars of the early blogosphere. "></outline>
			</outline>
		<outline text="### Thanks to">
			<outline text="&lt;a href=&quot;https://github.com/paulmillr/chokidar&quot;&gt;Chokidar&lt;/a&gt; is at the core of publicFolder. This is the great thing about Node. There's a mature package for something as practical as file change notification. We all get to build on each others' work. "></outline>
			<outline text="S3 is a great storage system, it's fast, reliable, inexpensive. Like Dropbox, I wish they had done this project, and made creating a new storage location on S3 as easy as creating a Twitter account (an example, or GMail or Facebook). It's totally possible. "></outline>
			</outline>
		<outline text="### Updates">
			<outline created="Thu, 22 Sep 2022 15:09:06 GMT" text="#### v0.5.9 -- 9/22/22 by DW">
				<outline created="Thu, 22 Sep 2022 15:09:21 GMT" text="Apparently Chokidar will emit &quot;unlink&quot; events for files that exist! "></outline>
				<outline created="Thu, 22 Sep 2022 15:09:48 GMT" text="Added a check before deleting a file, if it exists locally, we don't delete it on S3."></outline>
				</outline>
			<outline created="Wed, 21 Sep 2022 21:52:39 GMT" text="#### v0.5.8 -- 9/21/22 by DW">
				<outline created="Wed, 21 Sep 2022 21:52:51 GMT" text="When uploading a big file we were using &quot;public-read&quot; as the ACL, ignoring the setting, which would cause big uploads to fail if you're working with private data. "></outline>
				</outline>
			<outline text="#### v0.5.2 -- 5/22/20 by DW">
				<outline text="New config options, config.s3DefaultAcl. Set it to &quot;private&quot; if the location you're uploading to on S3 is private. It defaults to &quot;public-read.&quot;"></outline>
				<outline text="The status message appears once an hour instead of once a minute. "></outline>
				</outline>
			<outline text="#### v0.4.19 -- 9/16/17 by DW">
				<outline text="Stats gathering, three new callbacks. "></outline>
				</outline>
			</outline>
		<outline text="### Questions, comments?">
			<outline text="Please post an issue &lt;a href=&quot;https://github.com/scripting/publicfolder/issues&quot;&gt;here&lt;/a&gt;. "></outline>
			<outline text="Dave Winer, September 2017"></outline>
			</outline>
		</body>
	</opml>
